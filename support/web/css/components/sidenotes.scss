span.sidenote-baseline-mark {
  width: 0px;
  vertical-align: baseline;
  display: inline-block;
}

div.sidenote {
  position: absolute;
  right: 0;

  :nth-child(2) { margin-block-start: 0; }
  :last-child   { margin-block-end: 0; }

  font-size: smaller;
  --code-font-size: 0.85em;

  width: 100%;
  text-align: justify;
  hyphens: auto;

  > span.sidenote-number {
    position: absolute;
    top: -1.5em;

    text-align: right;
    width: 100%;

    border-bottom: 1px dotted black;
  }

  a.footnote-back { display: none; }

  div.diagram-container img.diagram {
    height: calc(0.66 * var(--height));
  }
}

section.footnotes {
  @include widescreen { display: none; }
  display: block;
}

aside#sidenote-container {
  @include widescreen { display: block; }

  display: none;

  position: relative;
}
